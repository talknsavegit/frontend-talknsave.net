jQuery(document).ready(function(a){"use strict";function b(b){a("#hkb-settings-tabs ul li a").removeClass("active"),a("#hkb-settings-tabs ul li a#"+b+"-link").addClass("active"),a(".hkb-settings-section").each(function(c,d){var e=a(d);b==d.id?(e.show(),e.addClass("active")):(e.removeClass("active"),e.hide())}),a("input#activetab").val(b)}function c(b){var c=d(),e=a.inArray(b+"-link",c),f=!(e<0);return f}function d(){var b=a("#hkb-settings-tabs ul li a"),c=[];return a.each(b,function(b,d){c.push(a(d).attr("id"))}),c}function e(){var b=a(".ht-knowledge-base-settings-display-sub-cats__input");return b.attr("checked")?(a(".ht-knowledge-base-settings-sub-cat-depth__input").parents("tr").show(400),void a(".ht-knowledge-base-settings-display-sub-cat-articles__input").parents("tr").show(400)):(a(".ht-knowledge-base-settings-sub-cat-depth__input").parents("tr").hide(400),void a(".ht-knowledge-base-settings-display-sub-cat-articles__input").parents("tr").hide(400))}function f(){var b=a(".ht-knowledge-base-settings-display-live-search__input");return b.attr("checked")?(a(".ht-knowledge-base-settings-focus-live-search__input").parents("tr").show(400),void a(".ht-knowledge-base-settings-search-placeholder-text__input").parents("tr").show(400)):(a(".ht-knowledge-base-settings-focus-live-search__input").parents("tr").hide(400),void a(".ht-knowledge-base-settings-search-placeholder-text__input").parents("tr").hide(400))}function g(){var b=a(".ht-knowledge-base-settings-enable-article-feedback__input");return b.attr("checked")?(a(".ht-knowledge-base-settings-enable-anon-article-feedback__input").parents("tr").show(400),a(".ht-knowledge-base-settings-enable-upvote-article-feedback__input").parents("tr").show(400),void a(".ht-knowledge-base-settings-enable-downvote-article-feedback__input").parents("tr").show(400)):(a(".ht-knowledge-base-settings-enable-anon-article-feedback__input").parents("tr").hide(400),a(".ht-knowledge-base-settings-enable-upvote-article-feedback__input").parents("tr").hide(400),void a(".ht-knowledge-base-settings-enable-downvote-article-feedback__input").parents("tr").hide(400))}function h(){var b=a(".ht-knowledge-base-settings-sortby__input").val();return"custom"!=b?void a(".ht-knowledge-base-settings-sort-order__input").parents("tr").show(400):void a(".ht-knowledge-base-settings-sort-order__input").parents("tr").hide(400)}function i(){var b=a(".ht-knowledge-base-settings-kb-article-slug__input").val(),c=a(".ht-knowledge-base-settings-kb-category-slug__input").val(),d=a(".ht-knowledge-base-settings-kb-tag-slug__input").val(),e=!0;return e=e&&j(b,c,d),e=e&&k(b),e=e&&k(c),e=e&&k(d),e=e&&l(b),e=e&&l(c),e=e&&l(d)}function j(a,b,c){var d=!0;return d=d&&a!=b,d=d&&a!=c,d=d&&b!=c,!!d||(o=p.conflictedSlugError,!1)}function k(b){return!(a.inArray(b,p.reservedTerms)>=0)||(o=p.reservedTermError,!1)}function l(b){return!(a.inArray(b,p.existingPostNames)>=0)||(o=p.slugInUseError,!1)}function m(b){a(b).blur(function(){a(this).val(n(a(this).val())),i()||(alert(o),a(this).focus(),a(this).select())})}function n(a){return a.toLowerCase().replace(/ /g,"-").replace(/[^\w-\/]+/g,"")}console.log("hkb-admin-settings-page.js loaded");var o=(a("input#tabindex").val(),""),p=window.settingsPageObjects;a("#hkb-settings-tabs ul li a").click(function(c){c.preventDefault();var d=a(this),e=d.attr("href"),f=e.substring(1);b(f)});var q=a("#activetab").val(),r=window.location.hash.replace("#","");""!==r&&(q=r),b(""!==q&&c(q)?q:"general-section"),a(".ht-knowledge-base-settings-display-sub-cats__input").change(function(){e()}),e(),a(".ht-knowledge-base-settings-display-live-search__input").change(function(){f()}),f(),a(".ht-knowledge-base-settings-enable-article-feedback__input").change(function(){g()}),g(),a(".ht-knowledge-base-settings-sortby__input").change(function(){h()}),h(),a(".ht-validate-number-input").blur(function(){var b=a(this),c=b.val(),d=b.data("lower-limit"),e=b.data("upper-limit");Math.floor(c)==c&&a.isNumeric(c)&&c<=e&&c>=d||(alert(b.data("validation-requirements")),b.focus())}),m(".ht-knowledge-base-settings-kb-article-slug__input"),m(".ht-knowledge-base-settings-kb-tag-slug__input "),m(".ht-knowledge-base-settings-kb-category-slug__input")});